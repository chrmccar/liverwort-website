<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Asterella drummondii — Liverworts of Tasmania</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../style.css" />
  <meta name="description" content="Species profile for Asterella drummondii (Taylor) R.M.Schust. ex D.G.Long." />
  <style>
    /* Page-local tweaks that match your aesthetic */
    .crumbs { font-size: .95rem; opacity: .9; margin-bottom: .5rem; }
    .meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: .75rem 1rem; max-width: 680px; }
    .meta-grid div { background: #fff; border: 1px solid #dcd9d1; border-radius: 12px; padding: .75rem 1rem; box-shadow: 0 1px 0 rgba(0,0,0,.04), 0 6px 14px rgba(0,0,0,.03); }
    figure.photo { margin: 1rem 0; }
    figure.photo img { width: 100%; height: auto; border-radius: 12px; border: 1px solid #dcd9d1; display:block; }
    figure.photo figcaption { font-size: .95rem; opacity: .9; margin-top: .5rem; text-align: center; }
    .section { margin-top: 1.5rem; }
    .taxon-table { border-collapse: collapse; width: 100%; max-width: 680px; }
    .taxon-table th, .taxon-table td { text-align: left; padding: .5rem .6rem; }
    .taxon-table th { width: 160px; color: #1f4836; }
    .taxon-table tr:nth-child(odd) td, .taxon-table tr:nth-child(odd) th { background: #f3f1ec; }

    /* General Description box */
    .general-box {
      background: #fff;
      border: 1px solid #dcd9d1;
      border-radius: 12px;
      padding: 1rem 1.1rem;
      box-shadow: 0 1px 0 rgba(0,0,0,.04), 0 6px 14px rgba(0,0,0,.03);
      max-width: 760px;
    }
    .general-box p { margin: 0 0 .8rem; }
  </style>
</head>
<body>
  <header class="site-header">
    <h1><em>Asterella drummondii</em> <small style="font-weight:normal;">(Taylor) R.M.Schust. ex D.G.Long</small></h1>
    <p>Species profile — placeholder content.</p>
    <nav class="top-nav">
      <a href="../index.html" class="nav-btn">Home</a>
      <a href="../map.html" class="nav-btn">Map</a>
      <a href="../learn.html" class="nav-btn">Learn</a>
    </nav>
  </header>

  <main class="container">
    <div class="crumbs">
      <a href="../map.html" class="species-link">Taxonomic tree</a>
      &nbsp;›&nbsp; <span>Aytoniaceae</span>
      &nbsp;›&nbsp; <span><em>Asterella</em></span>
      &nbsp;›&nbsp; <strong><em>A. drummondii</em></strong>
    </div>

    <figure class="photo">
      <img src="../data/asterella_drummondii_taylor_rmschust_ex_dglong_img_1.png"
           alt="Asterella drummondii — habit photograph" />
      <figcaption>
        <em>Asterella drummondii</em> — field photograph (placeholder caption).
      </figcaption>
    </figure>

    <!-- NEW: pulls text from the .txt file -->
    <section class="section">
      <h2>General Description</h2>
      <div id="general-description" class="general-box">
        Loading description…
        <noscript>Enable JavaScript to load the description from the data file.</noscript>
      </div>
    </section>

    <section class="section">
      <h2>Overview</h2>
      <p>
        This page is a starter template for <em>Asterella drummondii</em>. Replace the
        placeholder text with notes on diagnostic features, habitat, and Tasmanian distribution.
      </p>
    </section>

    <section class="section">
      <h2>Taxonomy</h2>
      <table class="taxon-table">
        <tr><th>Phylum</th><td>Marchantiophyta</td></tr>
        <tr><th>Class</th><td>Marchantiopsida</td></tr>
        <tr><th>Order</th><td>Marchantiales</td></tr>
        <tr><th>Family</th><td>Aytoniaceae</td></tr>
        <tr><th>Genus</th><td><em>Asterella</em></td></tr>
        <tr><th>Species</th><td><em>Asterella drummondii</em> (Taylor) R.M.Schust. ex D.G.Long</td></tr>
      </table>
    </section>

    <section class="section">
      <h2>Identification notes</h2>
      <ul>
        <li>Key characters: [add thallus characters, receptacle form, scales, spores].</li>
        <li>Similar species: [list and how to separate].</li>
      </ul>
    </section>

    <section class="section">
      <h2>Habitat and distribution</h2>
      <p>[Add Tasmanian districts, substrates, elevation, and associated communities.]</p>
    </section>

    <section class="section">
      <h2>References</h2>
      <ul>
        <li>[Add your preferred floras or monographs here.]</li>
      </ul>
    </section>

    <p class="section" style="opacity:.75;font-size:.95rem;">
      File: <code>species/asterella_drummondii_taylor_rmschust_ex_dglong.html</code>
    </p>
  </main>

  <footer class="site-footer">
    <p>© 2025 Christopher McCarthy</p>
  </footer>

  <!-- Load the general description from the TXT file -->
  <script>
    (function(){
      const target = document.getElementById('general-description');
      const url = '../data/asterella_drummondii_taylor_rmschust_ex_dglong_general.txt';

      fetch(url)
        .then(res => {
          if (!res.ok) throw new Error('HTTP ' + res.status);
          return res.text();
        })
        .then(text => {
          // Split on blank lines to create paragraphs, keep plain text safe
          const parts = text.trim().split(/\n\s*\n/);
          target.innerHTML = parts.map(p => '<p>' + p
            .replace(/&/g,'&amp;')
            .replace(/</g,'&lt;')
            .replace(/>/g,'&gt;')
            .replace(/\n/g,'<br>')
            + '</p>').join('');
        })
        .catch(err => {
          console.error('Description load failed:', err);
          target.textContent = 'Description not available.';
        });
    })();
  </script>
</body>
</html>
